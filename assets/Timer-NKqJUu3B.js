import{r as S,o as Q,a as ne,c as re,d as oe,w as ae,b as C,e as T,f as N,v as R,n as w,u as i,g as B,h as L,i as G,F as ie,j as U,t as V,k as K,l as le,m as F,p as ue,q as se,_ as ce}from"./index-OVaPzLTD.js";import{u as de}from"./useFullscreen--ZyiTm0U.js";var W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function me(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var D=me,ve=typeof W=="object"&&W&&W.Object===Object&&W,ge=ve,be=ge,pe=typeof self=="object"&&self&&self.Object===Object&&self,ye=be||pe||Function("return this")(),Z=ye,Te=Z,Se=function(){return Te.Date.now()},he=Se,je=/\s/;function Ie(e){for(var t=e.length;t--&&je.test(e.charAt(t)););return t}var Oe=Ie,$e=Oe,xe=/^\s+/;function ke(e){return e&&e.slice(0,$e(e)+1).replace(xe,"")}var Ee=ke,_e=Z,Ne=_e.Symbol,ee=Ne,Y=ee,te=Object.prototype,we=te.hasOwnProperty,Me=te.toString,M=Y?Y.toStringTag:void 0;function Ce(e){var t=we.call(e,M),o=e[M];try{e[M]=void 0;var s=!0}catch{}var c=Me.call(e);return s&&(t?e[M]=o:delete e[M]),c}var Fe=Ce,We=Object.prototype,Pe=We.toString;function Re(e){return Pe.call(e)}var Be=Re,X=ee,Le=Fe,Ge=Be,Ue="[object Null]",Ve="[object Undefined]",q=X?X.toStringTag:void 0;function Ae(e){return e==null?e===void 0?Ve:Ue:q&&q in Object(e)?Le(e):Ge(e)}var De=Ae;function Ke(e){return e!=null&&typeof e=="object"}var Ye=Ke,Xe=De,qe=Ye,ze="[object Symbol]";function He(e){return typeof e=="symbol"||qe(e)&&Xe(e)==ze}var Je=He,Qe=Ee,z=D,Ze=Je,H=NaN,et=/^[-+]0x[0-9a-f]+$/i,tt=/^0b[01]+$/i,nt=/^0o[0-7]+$/i,rt=parseInt;function ot(e){if(typeof e=="number")return e;if(Ze(e))return H;if(z(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=z(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Qe(e);var o=tt.test(e);return o||nt.test(e)?rt(e.slice(2),o?2:8):et.test(e)?H:+e}var at=ot,it=D,A=he,J=at,lt="Expected a function",ut=Math.max,st=Math.min;function ct(e,t,o){var s,c,f,m,d,g,h=0,u=!1,O=!1,v=!0;if(typeof e!="function")throw new TypeError(lt);t=J(t)||0,it(o)&&(u=!!o.leading,O="maxWait"in o,f=O?ut(J(o.maxWait)||0,t):f,v="trailing"in o?!!o.trailing:v);function $(l){var y=s,n=c;return s=c=void 0,h=l,m=e.apply(n,y),m}function k(l){return h=l,d=setTimeout(b,t),u?$(l):m}function E(l){var y=l-g,n=l-h,r=t-y;return O?st(r,f-n):r}function x(l){var y=l-g,n=l-h;return g===void 0||y>=t||y<0||O&&n>=f}function b(){var l=A();if(x(l))return j(l);d=setTimeout(b,E(l))}function j(l){return d=void 0,v&&s?$(l):(s=c=void 0,m)}function p(){d!==void 0&&clearTimeout(d),h=0,s=g=c=d=void 0}function _(){return d===void 0?m:j(A())}function I(){var l=A(),y=x(l);if(s=arguments,c=this,g=l,y){if(d===void 0)return k(g);if(O)return clearTimeout(d),d=setTimeout(b,t),$(g)}return d===void 0&&(d=setTimeout(b,t)),m}return I.cancel=p,I.flush=_,I}var dt=ct,ft=dt,mt=D,vt="Expected a function";function gt(e,t,o){var s=!0,c=!0;if(typeof e!="function")throw new TypeError(vt);return mt(o)&&(s="leading"in o?!!o.leading:s,c="trailing"in o?!!o.trailing:c),ft(e,t,{leading:s,maxWait:t,trailing:c})}var bt=gt;const pt=fe(bt);function yt(){const e=S(!0);let t=Number.NaN;const o=()=>{e.value=!0,t&&clearTimeout(t),t=setTimeout(()=>{e.value=!1,t=Number.NaN},3e3)};return Q(()=>{document.addEventListener("mousemove",o)}),ne(()=>{document.removeEventListener("mousemove",o)}),{isMoving:e}}function Tt(){const e=S(!1),t=S(!1),o=S(),s=S(0),c=S(10),f=S(0),m=re({get:()=>(s.value??0)+(c.value??0)*60+(f.value??0)*3600,set:u=>{s.value=u%60,u=Math.trunc(u/60),c.value=u%60,u=Math.trunc(u/60),f.value=u}});function d(){if(m.value<=0){e.value=!0,h();return}m.value--}function g(){e.value=!1,t.value=!0,o.value=setInterval(d,1e3)}function h(){clearInterval(o.value),o.value=void 0,t.value=!1}return{timeOut:e,started:t,second:s,minute:c,hour:f,startTimer:g,stopTimer:h}}const St=e=>(ue("data-v-77d2c005"),e=e(),se(),e),ht={class:"time-picker"},jt=St(()=>T("span",null,":",-1)),It=oe({__name:"Timer",setup(e){const t=S(),{isFullscreen:o,toggleFullscreen:s}=de(t),{minute:c,second:f,hour:m,startTimer:d,stopTimer:g,timeOut:h,started:u}=Tt(),{isMoving:O}=yt();function v(n){if(n!=null){if(typeof n=="number")return n;if(typeof n=="object"&&n.target&&"value"in n.target&&(n=String(n.target.value)),typeof n=="string")return Number.parseInt(n)>=0?Number.parseInt(n):void 0}}const $=pt((n,r,a)=>{const P=n>0?1:-1;return Math.min(a,Math.max(0,(r??0)+P))},100),k=v(localStorage.getItem("second"))??void 0,E=v(localStorage.getItem("minute"))??10,x=v(localStorage.getItem("hour"))??void 0,b=S(k),j=S(E),p=S(x);function _([n,r,a],P=!1){g(),f.value=v(n)??k??0,c.value=v(r)??E??0,m.value=v(a)??x??0,P&&(n?localStorage.setItem("second",String(n)):localStorage.removeItem("second"),r?localStorage.setItem("minute",String(r)):localStorage.removeItem("minute"),a?localStorage.setItem("hour",String(a)):localStorage.removeItem("hour"))}ae([b,j,p],n=>_(n,!0)),Q(()=>_([k??0,E??0,x??0]));function I(){_([b.value??0,j.value??0,p.value??0]),le(d)}function l(){u.value?g():d()}const y=n=>String(n).padStart(2,"0");return(n,r)=>(F(),C("div",{ref_key:"timeElement",ref:t,class:w(["timer",{started:i(u)}])},[T("div",{class:w(["setup",{hidden:i(o)&&i(u)&&!i(O)}])},[T("div",ht,[N(T("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>p.value=a),class:w({hidden:!p.value&&i(u)}),type:"text",maxlength:2,placeholder:"00",onKeydown:B(I,["enter"]),onBlur:r[1]||(r[1]=a=>p.value=v(a)),onWheel:r[2]||(r[2]=L(a=>p.value=i($)(a.deltaY,p.value,11),["prevent"]))},null,34),[[R,p.value,void 0,{number:!0}]]),T("span",{class:w({hidden:!p.value&&i(u)})},":",2),N(T("input",{"onUpdate:modelValue":r[3]||(r[3]=a=>j.value=a),type:"text",maxlength:2,placeholder:"10",onKeydown:B(I,["enter"]),onBlur:r[4]||(r[4]=a=>j.value=v(a)),onWheel:r[5]||(r[5]=L(a=>j.value=i($)(a.deltaY,j.value,59),["prevent"]))},null,544),[[R,j.value,void 0,{number:!0}]]),jt,N(T("input",{"onUpdate:modelValue":r[6]||(r[6]=a=>b.value=a),type:"text",maxlength:2,placeholder:"00",onKeydown:B(I,["enter"]),onBlur:r[7]||(r[7]=a=>b.value=v(a)),onWheel:r[8]||(r[8]=L(a=>b.value=i($)(a.deltaY,b.value,59),["prevent"]))},null,544),[[R,b.value,void 0,{number:!0}]])]),i(u)?G("",!0):(F(),C("button",{key:0,onClick:I},"Start")),i(u)?(F(),C("button",{key:1,onClick:I},"Restart")):G("",!0),T("button",{onClick:r[9]||(r[9]=(...a)=>i(s)&&i(s)(...a))},"Fullscreen")],2),T("time",{class:w({timeOut:i(h),withHour:i(m)>0}),onClick:l},[i(m)>0?(F(),C(ie,{key:0},[U(V(i(m))+" ",1),N(T("span",null,":",512),[[K,!i(u)||!(i(f)%2)]])],64)):G("",!0),U(" "+V(y(i(c)))+" ",1),N(T("span",null,":",512),[[K,!i(u)||!(i(f)%2)]]),U(" "+V(y(i(f))),1)],2)],2))}}),xt=ce(It,[["__scopeId","data-v-77d2c005"]]);export{xt as default};
